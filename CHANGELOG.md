# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.2.0] - 2025-10-25

### Added
- Support for regular class properties (not just constructor properties)
- Int enum support: numeric values without quotes in TypeScript enums
- PHPDoc tag preservation: `@deprecated`, `@see`, `@link`, `@example`, `@var`
- 25 new tests for class properties, comprehensive generation, and PHPDoc support
- Comprehensive test fixtures: ProjectDTO, TaskDTO, RoleEnum, PriorityEnum

### Fixed
- Int enums now generate without quotes (e.g., `LOW = 1` instead of `LOW = '1'`)
- Methods are always omitted from TypeScript interfaces
- PHPDoc comments with useful tags are now preserved in generated TypeScript

### Changed
- Improved doc comment extraction to preserve TypeScript-relevant tags
- Enhanced enum generation template to handle string vs int backing types

## [1.1.0] - 2025-10-25

### Changed
- **BREAKING**: Nested class dependencies are now generated by default (previously required `--with-dependencies` flag)
- CLI now automatically creates separate TypeScript files for all nested classes
- Generated files will overwrite existing TypeScript files

### Added
- `--no-dependencies` flag to disable automatic nested class generation
- Duplicate class tracking to avoid generating the same file multiple times within a single run
- 11 new tests for nested generation and duplicate tracking behavior

### Removed
- `--with-dependencies` flag (now default behavior, use `--no-dependencies` to disable)

### Fixed
- Nested classes are now always generated in separate files
- Duplicate classes are tracked to prevent generating the same file twice in a single run

## [1.0.0] - 2025-10-25

### Added
- Initial release of PHP to TypeScript Generator
- Support for converting PHP DTO classes to TypeScript interfaces
- Support for nested classes with automatic dependency resolution
- Support for PHP 8.1+ enums conversion to TypeScript enums
- Support for typed arrays (e.g., `string[]`, `CustomDTO[]`)
- Support for nullable types (e.g., `Type | null`)
- Support for readonly properties
- Support for DateTime conversion to string
- JSDoc comment preservation from PHP docblocks
- CLI command for batch generation
- `--with-dependencies` flag to generate all dependent types
- Comprehensive test suite with PHPUnit
- Snapshot testing for generated TypeScript
- Full documentation and examples

### Features
- **ClassAnalyzer**: Reflection-based PHP class analysis
- **TypeMapper**: Intelligent PHP to TypeScript type mapping
- **TypeScriptGenerator**: Twig-based TypeScript code generation
- **CLI Tool**: Symfony Console-based command-line interface

### Type Mappings
- `string` → `string`
- `int`, `float` → `number`
- `bool` → `boolean`
- `array` → `any[]` or typed arrays
- `DateTime*` → `string`
- `mixed` → `any`
- Custom classes → TypeScript interfaces with imports

### Requirements
- PHP 8.1 or higher
- Composer for dependency management
